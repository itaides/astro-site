---
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import Agent from "../components/Agent.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import { projects as allProjects } from "../data/projects";
import { services, techStack } from "../data/info";
import { profile, clients, testimonials } from "../data/profile";

const projects = allProjects.map((p) => ({
	title: p.title,
	category: p.category,
	year: p.year,
	description: p.description,
	image: p.image,
}));
---

<BaseLayout title="Itai Ben Zeev — Fullstack Developer | Arctica Digital">
	<Header slot="header" />

	<script>
		import "@dotlottie/player-component";
	</script>

	<!-- HERO -->
	<section class="hero">
		<div class="container">
			<div class="hero__center">
				<h1 class="hero__title">
					<span class="hero-line"
						>I craft <dotlottie-player
							src="/images/high-res-transparent.lottie"
							background="transparent"
							speed="1"
							direction="1"
							playMode="normal"
							loop
							autoplay
							class="hero-mascot"
							aria-hidden="true"
							role="img"></dotlottie-player> modern</span
					>
					<span class="hero-line"
						>web <em class="hero-italic">experiences</em><span
							class="hero-dot">.</span
						></span
					>
				</h1>
				<p class="hero__tagline reveal-stagger">
					<span class="hero-italic">Strategy-led branding</span> & <span
						class="hero-italic">digital design</span
					>
				</p>
			</div>
		</div>
		<div class="hero__scroll">
			<div class="scroll-line-wrap">
				<div class="scroll-line-fill"></div>
			</div>
			<span>Scroll</span>
		</div>
	</section>

	<!-- TECH STRIP -->
	<section class="tech-strip">
		<div class="container">
			<div class="tech-grid reveal-stagger">
				{
					techStack.map((t) => (
						<div class="tech-item">
							<span class="tech-label">{t.label}</span>
							<span class="tech-items">{t.items}</span>
						</div>
					))
				}
			</div>
		</div>
	</section>

	<!-- ABOUT -->
	<section class="about-section section">
		<div class="container">
			<div class="about-grid">
				<div class="about-left reveal-up">
					<span class="section-number">01 — About</span>
					<h2 class="about-heading">
						System-level expertise, <em
							>from architecture to deployment.</em
						>
					</h2>
				</div>
				<div class="about-right reveal-up">
					<p>
						You work directly with me — a fullstack developer with
						8+ years of experience, currently building
						enterprise-grade systems at Riskified. I bring CI/CD
						pipelines, scalable architecture, and production-level
						code quality to every client project.
					</p>
					<div class="about-stats">
						<div class="mini-stat-card">
							<span class="mini-stat-value">50+</span><span
								class="mini-stat-label">Projects</span
							>
						</div>
						<div class="mini-stat-card">
							<span class="mini-stat-value">7+</span><span
								class="mini-stat-label">Years Exp</span
							>
						</div>
						<div class="mini-stat-card">
							<span class="mini-stat-value">Full</span><span
								class="mini-stat-label">Stack</span
							>
						</div>
					</div>
					<a href="/about" class="btn--ghost"
						>Learn more about me <span class="arrow">→</span></a
					>
				</div>
			</div>
		</div>
	</section>

	<!-- SERVICES (Hick's Law: 4 focused services) -->
	<section class="services-section section">
		<div class="container">
			<div class="services-header reveal-up">
				<span class="section-number">02 — Services</span>
				<h2 class="services-heading">
					What I <span class="text-outline">do</span>
				</h2>
				<p class="services-intro">
					Full ownership of the stack — from architecture and AI
					integration to CI/CD and production monitoring.
				</p>
			</div>
			<div class="services-list reveal-stagger">
				{
					services.map((s) => (
						<div class="service-row" data-service>
							<span class="service-num">{s.num}</span>
							<div class="service-main">
								<h3 class="service-title">{s.title}</h3>
								<p class="service-desc">{s.desc}</p>
							</div>
							<div class="service-tags">
								{s.tags.map((tag) => (
									<span class="service-tag">{tag}</span>
								))}
							</div>
						</div>
					))
				}
			</div>
		</div>
	</section>

	<!-- FEATURED PROJECT (Eventimio) -->
	<section class="featured-section section section--dark">
		<div class="container">
			<div class="featured-inner reveal-up">
				<span class="section-number">03 — Featured Build</span>
				<div class="featured-grid">
					<div class="featured-content">
						<span class="featured-badge">My Own Product</span>
						<h2 class="featured-title">Eventimio</h2>
						<p class="featured-subtitle">
							AI-Powered Event Management SaaS
						</p>
						<p class="featured-desc">
							I architected and shipped my own SaaS platform — AI
							facial recognition, real-time guest experiences, and
							microservices architecture on AWS and Cloudflare.
						</p>
						<div class="featured-tech">
							<span>Golang</span><span>Node.js</span><span
								>Hono</span
							><span>AWS S3</span><span>AWS Rekognition</span>
						</div>
					</div>
					<div class="featured-stats">
						<div class="f-stat">
							<span class="f-stat-value">Full Stack</span><span
								class="f-stat-label"
								>Architecture to Deploy</span
							>
						</div>
						<div class="f-stat">
							<span class="f-stat-value">AI/ML</span><span
								class="f-stat-label">Facial Recognition</span
							>
						</div>
						<div class="f-stat">
							<span class="f-stat-value">Cloud-Native</span><span
								class="f-stat-label">Edge Deployed</span
							>
						</div>
						<div class="f-stat">
							<span class="f-stat-value">Monorepo</span><span
								class="f-stat-label">Turborepo + CI/CD</span
							>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- PROJECTS -->
	<section class="projects-section section">
		<div class="container">
			<div class="projects-header reveal-up">
				<span class="section-number">04 — Client Work</span>
				<div class="projects-header-row">
					<h2 class="projects-heading">
						Selected <span class="text-outline">projects</span>
					</h2>
					<a href="/works" class="btn--ghost projects-all-link"
						>View all <span class="arrow">→</span></a
					>
				</div>
			</div>
			<div class="projects-grid reveal-stagger">
				{
					projects.map((p, i) => (
						<a
							href="/works"
							class="project-card"
							style={`--delay: ${i * 0.08}s`}
						>
							<div class="project-img-wrap">
								<img
									src={p.image}
									alt={p.title}
									loading="lazy"
									class=""
								/>
								<div class="project-overlay">
									<span class="project-overlay-text">
										View Project
									</span>
								</div>
							</div>
							<div class="project-info">
								<div class="project-meta">
									<>
										<span class="project-cat">
											{p.category}
										</span>
										<span class="project-year">
											{p.year}
										</span>
									</>
								</div>
								<h3 class="project-name">{p.title}</h3>
								<p class="project-desc">{p.description}</p>
							</div>
						</a>
					))
				}
			</div>
		</div>
	</section>

	<!-- CLIENTS (Peak-End: moved BEFORE testimonial) -->
	<section class="partners-section">
		<div class="marquee-partners">
			<div class="marquee-track-partners">
				{[...clients, ...clients].map((c) => (
					<><span>{c}</span><span class="sep" aria-hidden="true">·</span></>
				))}
			</div>
		</div>
	</section>

	<!-- TESTIMONIAL (Peak-End: strong ending → footer CTA) -->
	<section class="testimonial-section section">
		<div class="container">
			<div class="testimonial-card reveal-up">
				<span class="section-number">05 — Working With Itai</span>
				<div class="testimonial-body">
					<svg
						class="quote-icon"
						width="40"
						height="40"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="1.5"
						aria-hidden="true"
						><path
							d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V21z"
						></path><path
							d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"
						></path></svg
					>
					<blockquote class="testimonial-quote">
						{testimonials[0].quote}
					</blockquote>
					<div class="testimonial-author">
						<div class="author-avatar">{testimonials[0].initials}</div>
						<div>
							<strong>{testimonials[0].name}</strong><span
								>{testimonials[0].role}</span
							>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<Agent />
	<Footer slot="footer" />
</BaseLayout>
